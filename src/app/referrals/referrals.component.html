<app-page>
<<<<<<< HEAD
  <div class="buy-deso__container p-16px border border-color-grey">
    <div class="mint-nft__title">My Referrals</div>
    <div class="mint-nft__text mb-16px">
      The link{{ globalVars.loggedInUser.ReferralInfoResponses?.length > 1 ? "s" : "" }} below gives you and your
      referrals a bonus on sign up. Note that all bonuses are shown in USD but paid in the DESO equivalent at the time
      of sign up.
    </div>
    <div *ngIf="globalVars.loggedInUser">
      <div *ngFor="let referral of globalVars.loggedInUser?.ReferralInfoResponses; let ii = index">
        <div class="p-15px fs-15px br-10px border border-color-grey background-color-secondary">
          <div class="d-flex align-items-center">
=======
  <!-- Top Bar -->
  <div class="global__top-bar d-flex align-items-center fs-18px font-weight-bold pl-15px border-bottom border-color-grey">
    <top-bar-mobile-navigation-control class="mr-15px d-lg-none d-inline-block"></top-bar-mobile-navigation-control>
    My Referrals
  </div>

  <div class="global__top-bar__height"></div>

  <div
    class="w-100 d-flex justify-content-start py-10px pl-15px fs-15px fc-muted border-bottom border-color-grey light-grey-divider"
  >
    The link{{globalVars.loggedInUser.ReferralInfoResponses?.length > 1 ? 's' : ''}}
    below gives you and your referrals a bonus on sign up. Note that all
    bonuses are shown in USD but paid in the DESO equivalent at the time of sign up.
  </div>

  <div *ngIf="globalVars.loggedInUser" class="p-15px">
    <div *ngFor="let referral of globalVars.loggedInUser?.ReferralInfoResponses; let ii = index">
        <div class="mb-15px p-15px fs-15px br-5px border border-color-grey referral-link-info__blue-border">
          <div class="d-flex align-items-center">
            <div (click)="_copyLink(ii)"
                 class="btn btn-outline-secondary d-flex fs-15px p-5px mr-5px"
                 style="width: fit-content">
              <i class="far fa-copy fa-sm"></i>
            </div>
>>>>>>> main
            <a class="fs-15px" (click)="_copyLink(ii)">
              {{ globalVars.getLinkForReferralHash(referral.Info.ReferralHashBase58) }}
            </a>
            <i-feather
              *ngIf="!linkCopied[ii]"
              (click)="_copyLink(ii)"
              name="copy"
              class="feather-medium fc-secondary ml-10px position-relative cursor-pointer"
              style="top: -2px"
            ></i-feather>
            <div *ngIf="linkCopied[ii]" class="d-flex ml-10px">
              <i-feather
                name="check-circle"
                class="feather-medium fc-secondary position-relative"
                style="top: -2px"
              ></i-feather>
              <div class="mint-nft__sub-text ml-10px">Copied</div>
            </div>
          </div>
          <div *ngIf="!referral.IsActive" class="fc-red">This link is no longer active.</div>

          <div class="font-weight-bold mt-15px">
            You get ${{ referral.Info.ReferrerAmountUSDCents / 100 }} USD per referral
          </div>
          <div>
            Total:
<<<<<<< HEAD
            {{ globalVars.nanosToBitClout(referral.Info.TotalReferrerBitCloutNanos) }} DESO
            ({{ globalVars.nanosToUSD(referral.Info.TotalReferrerBitCloutNanos) }})
=======
            {{ globalVars.nanosToDeSo(referral.Info.TotalReferrerDeSoNanos) }} DESO
            ({{ globalVars.nanosToUSD(referral.Info.TotalReferrerDeSoNanos) }})
>>>>>>> main
          </div>

          <div class="font-weight-bold mt-15px">
            Your referrals get ${{ referral.Info.RefereeAmountUSDCents / 100 }} USD
          </div>
          <div>
            Total:
<<<<<<< HEAD
            {{ globalVars.nanosToBitClout(referral.Info.TotalRefereeBitCloutNanos) }} DESO
            ({{ globalVars.nanosToUSD(referral.Info.TotalRefereeBitCloutNanos) }})
=======
            {{ globalVars.nanosToDeSo(referral.Info.TotalRefereeDeSoNanos) }} DESO
            ({{ globalVars.nanosToUSD(referral.Info.TotalRefereeDeSoNanos) }})
>>>>>>> main
          </div>

          <div class="mt-15px">
            <span class="font-weight-bold">Referrals remaining: </span>
            {{ referral.Info.MaxReferrals > 0 ?
            referral.Info.MaxReferrals - referral.Info.TotalReferrals
            : 'Unlimited'
            }}
          </div>
        </div>
      </div>
    </div>
  </div>
</app-page>
